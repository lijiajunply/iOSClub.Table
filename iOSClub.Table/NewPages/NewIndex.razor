@page "/NewIndex"

<div @onwheel="FirstWheel">
    <GridRow Class="block">
        <GridCol Style="text-align: center" Xs="24" Sm="24" Md="24" Lg="24" Xl="9" Xxl="9">
            <div style="text-align: center">
                <Image Src="iOS_Club_LOGO.png" Preview="false" Style="width:75%;text-align: center"/>
                @if (!IsMobile)
                {
                    <Progress Percent="@Percent" ShowInfo="false" Style="width:75%;margin: 10px"></Progress>
                    <Space style="text-align: center">
                        <SpaceItem>
                            <Button Type="@ButtonType.Text">
                                <Icon Type="step-backward" Class="card-d" Theme="outline"/>
                            </Button>
                        </SpaceItem>
                        <SpaceItem>
                            <Button Type="@ButtonType.Text">
                                <Icon Type="pause" Class="card-d" Theme="outline"/>
                            </Button>
                        </SpaceItem>
                        <SpaceItem>
                            <Button Type="@ButtonType.Text">
                                <Icon Type="step-forward" Class="card-d" Theme="outline"/>
                            </Button>
                        </SpaceItem>
                    </Space>
                }
            </div>
        </GridCol>
        <GridCol Xs="24" Sm="24" Md="24" Lg="24" Xl="15" Xxl="15">
            <span class="gradient-text">XAUAT iOS Club</span>
            @if (IsMobile)
            {
                <Title Level="3" Style="text-align: center">一个跨专业与课堂的数码开发爱好者社团</Title>
                <Paragraph Type="secondary" Style="text-align: center;font-size: 22px">
                    "Stay hungry, stay foolish"
                </Paragraph>
            }
            else
            {
                <Title Level="1" Style="color: #3c3c43">
                    西安建筑科技大学iOS众创空间俱乐部
                </Title>
                @for (var i = 0; i < Lyc.Length; i++)
                {
                    <h6 class="first-button @(i * 10 + 30 - Percent + 10 == 0 ? "playing" : "")">
                        @Lyc[i]
                    </h6>
                }
            }

        </GridCol>
    </GridRow>

    <div class="block-opacity">
        @if (!IsMobile)
        {
            <Title Level="2" Style="text-align: center">
                关于我们
            </Title>
        }
        <GridRow Class="block">
            @foreach (var item in Cards)
            {
                <GridCol Xs="24" Sm="24" Md="24" Lg="12" Xl="8" Xxl="8">
                    <a href="@item.Url" target="_blank">
                        <Card Hoverable Class="card">
                            <div class="card-d">@item.ImageUrl</div>
                            <h3>@item.Title</h3>
                            <Paragraph Type="secondary">@item.Content</Paragraph>
                        </Card>
                    </a>
                </GridCol>
            }
        </GridRow>
    </div>
</div>


@code {
    private double Percent { get; set; } = 30;
    [CascadingParameter] public bool IsMobile { get; set; }

    private record CardModel(string ImageUrl, string Title, string Content, string Url);

    private string[] Lyc =>
    [
        "这里是",
        "梦想家们改变世界的起点",
        "一个跨专业与课堂的数码开发爱好者社团",
        "跨越学科，体验编程与开发的魅力",
        "创造人生，开发非同凡响的APP"
    ];

    private static CardModel[] Cards =>
    [
        new CardModel("\ud83c\udf4e", "我们是谁?", "我们是由Apple公司资金支持，受南山书院和西安建筑科技大学大学生创新创业实践中心指导的学术型学生团体", "/NewAbout"),
        new CardModel("\ud83d\udc69\ud83c\udffb\u200d\ud83d\udcbb", "iOS Club,不止iOS", "我们不止只有iOS，我们是一共一个跨专业与课堂的数码编程爱好者社团", "/NewEvent"),
        new CardModel("\ud83d\udcc5", "全校数码编程爱好者,联合起来！", "我们意图打造全校最大的科技社区，快来加入我们", "/NewLogin")
    ];

    private void FirstWheel(WheelEventArgs obj)
    {
        if ((Math.Abs(Percent - 100.0) < 0.01 && obj.DeltaY > 0) || (Math.Abs(Percent - 30.0) < 0.01 && obj.DeltaY < 0) || IsMobile) return;
        Percent += obj.DeltaY * 0.1;
    }

}

<style>
    .gradient-text {
        background: -webkit-linear-gradient(-64deg, #f9bf65, #ffab6b, #ff9977, #fc8986, #ef7e95, #e47da6, #d37fb5, #bf83c1, #ab8dcf, #9597d8, #7fa0dc, #6ca7da);
        -webkit-background-clip: text; /*将设置的背景颜色限制在文字中*/
        -webkit-text-fill-color: transparent; /*给文字设置成透明*/
        font-size: 56px;
        font-weight: bold;
    }

    .block {
        padding: 40px;
        min-height: 80vh;
    }

    .card {
        margin: 10px;
        height: 200px;
        max-width: 100%;
        border-radius: 10px;
        background: #f6f6f7;
    }
    
    .block-opacity{
        opacity: @(IsMobile || Percent >= 70 ? 1 : (Percent - 30) / 30);
    }

    .first-button {
        width: 100%;
        border-radius: 10px;
        font-size: 22px;
    }

    .first-button:hover {
        padding-left: 10px;
        background: #f6f6f7;
        font-weight: bold;
    }

    .playing {
        padding: 10px;
        background: #f6f6f7;
        font-weight: bold;
    }
    
    .card-d{
        font-size: 22px;
    }
</style>