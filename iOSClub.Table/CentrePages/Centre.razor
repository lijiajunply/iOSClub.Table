@page "/Centre"
@using iOSClub.Share.Data
@using Microsoft.EntityFrameworkCore
@inject IDbContextFactory<SignContext> DbFactory

<PageTitle>个人中心 - 西建大iOS Club</PageTitle>

<meta name="referrer" content="never">

<Carousel>
    @foreach (var item in Events)
    {
        <CarouselSlick>
            <img alt="" src="@item.Cover" class="img-container"/>
        </CarouselSlick>
    }
</Carousel>

@code
{
    private EventModel[] Events { get; set; } = [];

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        await using var context = await DbFactory.CreateDbContextAsync();
        Events = await context.Events.ToArrayAsync();
    }
}

<style>
    .img-container {
        position: relative;
        background-size: cover;
        width: 70vw;
        height: auto;
        background-position: center;
        left: 15%;
        right: 15%;
    }
</style>