@page "/Logout"
@using iOSClub.Table.Models
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider authStateProvider
@inject MessageService MessageService

<PageTitle>正在为您登出...</PageTitle>

@code {

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        var provider = (Provider)authStateProvider;
        await provider.UpdateAuthState(null);
        await MessageService.Success("您已注销");
        NavigationManager.NavigateTo("");
    }

}